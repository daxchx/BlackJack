# ブラックジャック

このアプリケーションは、トランプゲームのブラックジャックが遊べるアプリケーションです。

<a href="https://blackjack-neon-nine.vercel.app">🎮アプリケーションを利用してみる</a>

このアプリケーションの使用方法については<a href="/wiki">Wiki</a>をご確認ください。

## プロジェクトの目的

この Project では、ソフトウェア開発において重要な設計（特に MVC）について学習します。

ソフトウェア設計のノウハウを学ぶことで、拡張性の高いコードを書けるようになり、時間と労力を大幅に削減できるようになります。

ここでは Black Jack を MVC に従って実装する過程を学習します。

モデル設計、スケルトン設計などでソフトウェアの設計をしっかりと考えた後、コード化していきます。

このコースを修了すると、ソフトウェアをゼロから開発する基礎力が身につきます。

このプロジェクトでは以下の技術の使用と習得を目的としています。

- オブジェクト指向プログラミング
- MVC アーキテクチャ
- TypeScript
- DOM 操作
- ライブプレイできるゲームの作成

## 役割と貢献
    
このプロジェクトでは以下のことを行いました。

- モデル設計
- スケルトン設計
- デザイン作成
- フロントエンド構築
    
## 技術的な側面
    
このプロジェクトでは以下の技術スタックを採用しています。

### MVCアーキテクチャ
### オブジェクト指向プログラミング

### TypeScript

MVCアーキテクチャやオブジェクト指向プログラミングにおいて型の指定は重要です。バグを埋め込む要因の排除や開発速度を向上させるという理由で、TypeScriptを採用しました。

### Tailwind CSS
    
### Vite

    
## 問題解決と工夫

MVCアーキテクチャではControllerでそれぞれのオブジェクトの操作を行いました。
ModelとViewが互いに干渉することなく、安全なデータの受け渡しを行うように設計しました。

### オブジェクト指向プログラミング

トランプを使用するブラックジャックでは以下のクラスを用意しました。

<table>
  <tr>
    <th>クラス</th>
    <th>用途</th>
  </tr>
  <tr>
    <td>Table</td>
    <td>テーブルではゲームの進行、プレイヤーの操作、デッキの操作などを行います。</td>
  </tr>
  <tr>
    <td>Player</td>
    <td>手札、賭け金、ステータス、チップなどのデータを保持しています。</td>
  </tr>
  <tr>
    <td>Deck</td>
    <td>複数枚のカードを保持しています。シャッフルやカードをドローなどの操作も可能です。</td>
  </tr>
  <tr>
    <td>Card</td>
    <td>スートやランクなどのカードの情報を保持しています。</td>
  </tr>
  <tr>
    <td>GameDecision</td>
    <td>アクションや賭け金などのプレイヤーの決断を保持します。</td>
  </tr>
</table>

これらのクラスは他のトランプゲームでも使用することができます。

新たにトランプゲームを追加する際にはこれらのクラスを拡張して簡単に追加が可能です。

### DOMの操作

画面全体を再レンダリングすると画像のちらつきや動作が遅くなることがあったため、必要な箇所だけ更新するようにしました。

具体的には、初期化時に必要なdomはすべて用意し、動的な更新が必要なdomにはidを割り振りました。

動的更新を行う際には、controllerからviewのmethodに値を渡し、該当するidの箇所を渡ってきた値を使用して再レンダリングしています。

### MVCアーキテクチャ

<table>
  <tr>
    <th>分類</th>
    <th>クラス</th>
  </tr>
  <tr>
    <td rowspan=5>Model</td>
  </tr>
  <tr>
    <td>Table</td>
  </tr>
  <tr>
    <td>Player</td>
  </tr>
  <tr>
    <td>Deck</td>
  </tr>
  <tr>
    <td>Card</td>
  </tr>
  <tr>
    <td>View</td>
    <td>View</td>
  </tr>
  </tr>
  <tr>
    <td>Controller</td>
    <td>Controller</td>
  </tr>
</table>

ゲームの進行はcontrollerで行いました。

viewとmodelが互いに影響しないようにcontrollerでmodelとviewのインスタンスを生成して操作しています。


### UIデザイン

モダンでシンプルなデザインにして誰でも直感的にプレイできることを意識しました。
レスポンシブデザインにし、スマホでもプレイを楽しむことができるようにしています。

## 学びと成長
    
このプロジェクトを通して以下のような学びや成長がありました。

- MVCアーキテクチャを用いた設計を行えるようになった
- OOPの型の指定がスムーズに行えるようになった
- APIからデータを取得して、処理を実装できるようになった
    
## コードの品質と構造
    
コードの品質についての考え方や重要視する点、プロジェクトのディレクトリ構造やコーディングスタイルについて説明します。

このプロジェクトではオブジェクト指向プログラミングのデザインパターンとしてMVCアーキテクチャを採用しています。

これを採用したことで開発速度の向上と安全なデータの操作が行えています。

コーディングは静的なViewの実装から取り掛かり、Model、Controller、動的なViewの実装という順番で進めていきました。

ディレクトリは以下のようになりました。

- config : 設定ファイル
- interface : オブジェクトの型の指定
- model : コンピュータのデータを定義
- controller : modelとviewの操作を定義
- view : 画面に表示するdomを定義
    
## 今後の展望

このプロジェクトでは、クライアント依存のデータ共有を行っていますが、Supabaseなどのデータベースを使用して、認証機能やユーザー別の情報を保持したアプリケーションの実装も行っていきたいです。

検索した瞬間に簡易的に検索ができる機能を実装したが、特定のキーワードを入力している間に無駄なfetch処理が行われているため、fetch処理が走るまでのバリデーションを設けて、不要なfetchを改善させたい。

このプロジェクトでは、クライアント依存のデータ共有を行っていますが、Supabaseなどのデータベースを使用して、認証機能やユーザー別の情報を保持したアプリケーションの実装も行っていきたいです。
